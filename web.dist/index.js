var domsi;(()=>{"use strict";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(r,e)=>Object.prototype.hasOwnProperty.call(r,e)},e={};function t(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,i=[],a=!0,u=!1;try{for(t=t.call(r);!(a=(n=t.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(r){u=!0,o=r}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(r,e)||i(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=i(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return u=r.done,r},e:function(r){l=!0,a=r},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw a}}}}function o(r){return function(r){if(Array.isArray(r))return a(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||i(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,e){if(r){if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,e):void 0}}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function u(r,e){var i=JSON.parse(JSON.stringify(r));e||(e=document);for(var a=[i],u=0;u<a.length;){var d=a[u];if(d.originalSelector=JSON.parse(JSON.stringify(d)),d.id=u,0==u&&(d.name="root"),d.children)for(var h=0,y=Object.keys(d.children);h<y.length;h++){var p=y[h],m=d.children[p];m.selector||(m.selector={}),m.selector.name=d.name+"."+p,a.push(m.selector)}u++}var v=a.length,g=[f(e)];for(u=0;u<g.length;){var b=g[u];b.domsiMatch=o(new Array(v)).map((function(){return!1})),b.domsiChildrenMatch=o(new Array(v)).map((function(){return[]})),g.push.apply(g,o(b.children)),u++}reversed(a).forEach((function(r){reversed(g).forEach((function(e){var o,i,a;o=e,a=(i=r).id,!(o.domsiChildrenMatch[a].length>0)&&function(r,e){if(!e.children)return!0;var t,o=n(Object.values(e.children));try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.type,u=i.selector.__id,l=r.domsiChildrenMatch[u].length;if("single"==a&&0==l)return!1;if("multiple"==a){if(void 0!==i.count&&!c(l,i.count))return!1}else if("none"==a&&l>0)return!1}}catch(r){o.e(r)}finally{o.f()}return!0}(o,i)&&function(r,e){return!(e.tagName&&!function(r,e){return c((r instanceof Element?r.tagName:"").toLowerCase(),e)}(r,e.tagName)||e.attribute&&!function(r,e){if(void 0===e)return!0;if(!(r instanceof Element))return!1;for(var n=0,o=Object.entries(e);n<o.length;n++){var i=t(o[n],2),a=i[0],u=i[1];if(!c(r.getAttribute(a),u))return!1}return!0}(r,e.attribute)||e.property&&!function(r,e){for(var n=0,o=Object.entries(e);n<o.length;n++){var i=t(o[n],2),a=i[0],u=i[1];if(!c(r[a],u))return!1}return!0}(r,e.property)||e.css&&!function(r,e){if(!(r instanceof Element))return!1;for(var n=getComputedStyle(r),o=0,i=Object.entries(e);o<i.length;o++){var a=t(i[o],2),u=a[0],l=a[1];if("color"==u||u.endsWith("-color")){if(!s(n[u],l))return!1}else if(!c(n[u],l))return!1}return!0}(r,e.css)||e.text&&!function(r,e){return c(r instanceof HTMLElement?r.innerText:void 0,e)}(r,e.text))}(o.htmlNode,i)&&function(r,e){r.domsiMatch[e.id]=!0;for(var t=r.parent;t;)t.domsiChildrenMatch[e.id].push(r),t=t.parent}(e,r)}))}));var w=a[0].id,O=g[0].domsiChildrenMatch[w].map((function(r){return l(r,i)}));return O.reverse(),O}function l(r,e){var o={};if(e.children){var i,a=n(Object.entries(e.children));try{var u=function(){var e=t(i.value,2),n=e[0],a=e[1],u=a.type,f=!!a.transparent,c=a.selector,s=c.__id,d=void 0;if("single"==u){var h=r.domsiChildrenMatch[s];d=l(h[h.length-1],c)}else{if("multiple"!=u)return"continue";(d=r.domsiChildrenMatch[s].map((function(r){return l(r,c)}))).reverse()}o[n]=d,f&&"single"==u&&(o=Object.assign({},d.children,o))};for(a.s();!(i=a.n()).done;)u()}catch(r){a.e(r)}finally{a.f()}}return{htmlNode:r.htmlNode,children:o}}function f(r,e){var t={htmlNode:r,parent:e},n=[];return r.childNodes.forEach((function(r){n.push(f(r,t))})),t.children=n,t}function c(r,e){if("number"==typeof e||"string"==typeof e)return r==e;if("undefined"==e.type)return null==r;if("null"==e.type)return null==r;if("regex"==e.type)return new RegExp(e.regex,e.flags).test(r.toString());if("compare"==e.type){var t=e.operator,o=e.value;return"=="==t?r==o:"!="==t?r!=o:"==="==t?r===o:"!=="==t?r!==o:">"==t?r>o:">="==t?r>=o:"<"==t?r<o:"<="==t&&r<=o}if("and"==e.type){var i,a=n(e.operands);try{for(a.s();!(i=a.n()).done;)if(!c(r,i.value))return!1}catch(r){a.e(r)}finally{a.f()}return!0}if("or"==e.type){var u,l=n(e.operands);try{for(l.s();!(u=l.n()).done;)if(c(r,u.value))return!0}catch(r){l.e(r)}finally{l.f()}return!1}return"not"==e.type&&!c(r,e.operand)}function s(r,e){if("number"==typeof e||"string"==typeof e)return d(r,e);if("undefined"==e.type)return null==r;if("null"==e.type)return null==r;if("regex"==e.type)return new RegExp(e.regex,e.flags).test(r);if("and"==e.type){var t,o=n(e.operands);try{for(o.s();!(t=o.n()).done;)if(!d(r,t.value))return!1}catch(r){o.e(r)}finally{o.f()}return!0}if("or"==e.type){var i,a=n(e.operands);try{for(a.s();!(i=a.n()).done;)if(d(r,i.value))return!0}catch(r){a.e(r)}finally{a.f()}return!1}return"not"==e.type&&!d(r,e.operand)}function d(r,e){return r=y(r),e=y(e),r[0]==e[0]&&r[1]==e[1]&&r[2]==e[2]&&Math.abs(r[3]-e[3])<.01}r.d(e,{default:()=>p});var h={};function y(r){if(r){if("transparent"===r.toLowerCase())return[0,0,0,0];if(h[r])return h[r];var e=r,t=void 0;if("#"===r[0]&&(r.length<7&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+(r.length>4?r[4]+r[4]:"")),t=[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16),r.length>7?parseInt(r.substr(7,2),16)/255:1]),!t){if(-1===r.indexOf("rgb")){var n=document.body.appendChild(document.createElement("akflkwqhfelaksfkahsdfhaofihxqwomfhqowih")),o="rgb(1, 2, 3)";if(n.style.color=o,n.style.color!==o)return;if(n.style.color=r,n.style.color===o||""===n.style.color)return;r=getComputedStyle(n).color,document.body.removeChild(n)}0===r.indexOf("rgb")&&(-1===r.indexOf("rgba")&&(r+=",1"),t=r.match(/[.\d]+/g).map((function(r){return+r})))}return h[e]=t,t}}const p={find:function(r,e){return u(r,e)[0]},findAll:u};domsi=e.default})();